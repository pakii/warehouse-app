{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/layout/components/layout/layout.component.ts","webpack:///src/app/layout/components/layout/layout.component.html","webpack:///src/app/layout/layout.module.ts","webpack:///src/app/products/components/product-list-item/product-list-item.component.ts","webpack:///src/app/products/components/product-list-item/product-list-item.component.html","webpack:///src/app/products/components/products-list/products-list.component.ts","webpack:///src/app/products/components/products-list/products-list.component.html","webpack:///src/app/products/containers/product-filters/product-filters.component.ts","webpack:///src/app/products/containers/product-filters/product-filters.component.html","webpack:///src/app/products/containers/product-form/product-form.component.ts","webpack:///src/app/products/containers/product-form/product-form.component.html","webpack:///src/app/products/containers/products/products.component.ts","webpack:///src/app/products/containers/products/products.component.html","webpack:///src/app/products/products-routing.module.ts","webpack:///src/app/products/products.module.ts","webpack:///src/app/shared/services/floors/floors.service.ts","webpack:///src/app/shared/services/products/products.service.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///src/mock/floors-and-sections.ts","webpack:///src/mock/products.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","redirectTo","pathMatch","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","AppModule","declarations","providers","bootstrap","LayoutComponent","styleUrls","LayoutModule","forChild","ProductListItemComponent","ProductsListComponent","products","ProductFiltersComponent","floorsService","router","route","searchControl","destroy$","searchDebounceTime","valueChanges","pipe","p","n","subscribe","value","navigate","queryParams","filter","undefined","queryParamsHandling","floors$","getFloorsWithSections","floors","snapshot","floor","patchValue","emitEvent","selectedFloor","find","queryParamMap","params","get","setValue","next","complete","ProductFormComponent","fb","productsService","location","isEdit","product","sections","form","group","required","pattern","RegExp","quantity","floorId","sectionId","controls","codeParam","paramMap","product$","getProductByCode","initForm","fetchedFloors","foundFloor","enable","onFloorChange","section","disable","invalid","saveParams","action","saveProduct","error","alert","goBack","back","save","ProductsComponent","products$","getProducts","component","ProductsRoutingModule","ProductsModule","FloorsService","providedIn","ProductsService","res","data","test","productCode","addProduct","updateProduct","SharedModule","environment","production","bootstrapModule","err","console","floor1","name","number","floor2","floor3","floorsHash","Object","values","getObjects","productIndex","findIndex","push","productsData","slice"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [\n  { path: '', redirectTo: '/products', pathMatch: 'full' },\n  { path: '**', redirectTo: '/products' }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent {\n  title = 'warehouse-app';\n}\n","<app-layout></app-layout>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { ProductsModule } from './products/products.module';\nimport { LayoutModule } from './layout/layout.module';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    ProductsModule,\n    AppRoutingModule,\n    LayoutModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-layout',\n  templateUrl: './layout.component.html',\n  styleUrls: ['./layout.component.scss']\n})\nexport class LayoutComponent {}\n","<nav class=\"top-bar\">\n    <a routerLink=\"/\" class=\"u-cursor-pointer\">\n        <div class=\"top-bar__logo ml-1 mr-1\"></div>\n    </a>\n    <h1>Warehouse App</h1>\n</nav>\n<main class=\"main\">\n    <router-outlet></router-outlet>\n</main>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LayoutComponent } from './components/layout/layout.component';\nimport { RouterModule } from '@angular/router';\n\n@NgModule({\n  declarations: [LayoutComponent],\n  imports: [\n    CommonModule,\n    RouterModule.forChild([])\n  ],\n  exports: [LayoutComponent]\n})\nexport class LayoutModule { }\n","import { Component, Input, OnInit } from '@angular/core';\n\nimport { Product } from '../../../shared/models/product.model';\n\n@Component({\n  selector: 'app-product-list-item',\n  templateUrl: './product-list-item.component.html',\n  styleUrls: ['./product-list-item.component.scss']\n})\nexport class ProductListItemComponent implements OnInit {\n  @Input() product: Product;\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<a class=\"product-li p-1 mt-1 mb-1\"\n    routerLink=\"/products/{{product.code}}\">\n    <h3><strong>{{product.code}}</strong></h3>\n    <p>Quantity: {{product.quantity}}</p>\n    <p>Location: {{product.floor.number}} / {{product.section.number}}</p>\n</a>","import { Component, Input } from '@angular/core';\n\nimport { Product } from '../../../shared/models/product.model';\n\n@Component({\n  selector: 'app-products-list',\n  templateUrl: './products-list.component.html',\n  styleUrls: ['./products-list.component.scss']\n})\nexport class ProductsListComponent {\n  @Input() products: Product[] = [];\n}\n","<div class=\"products-list\">\n    <app-product-list-item\n        *ngFor=\"let product of products\"\n        [product]=\"product\">\n    </app-product-list-item>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { Observable, Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, takeUntil, tap } from 'rxjs/operators';\n\nimport { Floor } from '../../../shared/models/floor.model';\nimport { FloorsService } from '../../../shared/services/floors/floors.service';\n\n@Component({\n  selector: 'app-product-filters',\n  templateUrl: './product-filters.component.html',\n  styleUrls: ['./product-filters.component.scss']\n})\nexport class ProductFiltersComponent implements OnInit {\n  @Input() floors: Floor[];\n  floors$: Observable<Floor[]>;\n  selectedFloor: Floor;\n  searchControl = new FormControl(null);\n\n  private readonly destroy$ = new Subject<void>();\n  readonly searchDebounceTime = 500;\n\n  constructor(\n    private floorsService: FloorsService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit(): void {\n    this.searchControl.valueChanges.pipe(\n      takeUntil(this.destroy$),\n      debounceTime(this.searchDebounceTime),\n      distinctUntilChanged((p, n) => p === n)\n    ).subscribe((value) => {      \n      this.router.navigate(['/products'], { queryParams: { filter: value || undefined }, queryParamsHandling: 'merge' });\n    });\n\n    this.floors$ = this.floorsService.getFloorsWithSections()\n      .pipe(tap((floors) => {\n        const { filter, floor } = this.route.snapshot.queryParams;\n        if (filter) {\n          this.searchControl.patchValue(filter, {emitEvent: false});\n        }\n        if (floor) {\n          this.selectedFloor = floors.find(({ id }) => id === floor);\n        }\n      }));\n\n    this.route.queryParamMap.pipe(\n      takeUntil(this.destroy$)\n    ).subscribe((params: ParamMap) => {\n      if (!params.get('floor')) {\n        this.selectedFloor = undefined;\n      }\n      if (!params.get('filter')) {\n        this.searchControl.setValue(null);\n      }\n    })\n  }\n\n  selectFloor(floor: Floor): void {\n    this.selectedFloor = floor;\n  }\n\n  clearSearch(): void {\n    this.searchControl.setValue('');\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","\n<div class=\"search\">\n    <div class=\"c-form-control\">\n        <label for=\"search-input\">Filter:</label>\n        <input type=\"text\"\n            id=\"search-input\"\n            [formControl]=\"searchControl\">\n        <span class=\"search__clear close mr-1\"\n            *ngIf=\"searchControl.value\"\n            (click)=\"clearSearch()\">\n        </span>\n    </div>\n</div>\n\n<div class=\"pt-2\">\n    <label for=\"floors-list\">Floors:</label>\n    <ul class=\"list ml-1\"\n        id=\"floors-list\">\n        <li class=\"list__item\"\n            *ngFor=\"let floor of floors$ | async\">\n            <a class=\"list__item__link\"\n                routerLink=\"/products\"\n                [queryParams]=\"{ floor: floor.id, filter: searchControl.value || undefined}\"\n                routerLinkActive=\"filter-active\"\n                (click)=\"selectFloor(floor)\">\n                {{floor.name}}\n            </a>\n        </li>\n    </ul>\n</div>\n\n<div class=\"pt-2\"\n    *ngIf=\"selectedFloor\">\n    <label for=\"sections-list\">Sections:</label>\n    <ul class=\"list ml-1\"\n        id=\"sections-list\">\n        <li class=\"list__item\"\n            *ngFor=\"let section of selectedFloor.sections\">\n            <a class=\"list__item__link\"\n                routerLink=\"/products\"\n                [queryParams]=\"{ section: section.id }\"\n                queryParamsHandling=\"merge\"\n                routerLinkActive=\"filter-active\">\n                {{section.name}}\n            </a>\n        </li>\n    </ul>\n</div>\n","import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { AbstractControl, FormBuilder, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { forkJoin, of } from 'rxjs';\nimport { catchError, take } from 'rxjs/operators';\n\nimport { Floor } from '../../../shared/models/floor.model';\nimport { Product } from '../../../shared/models/product.model';\nimport { Section } from '../../../shared/models/section.model';\nimport { FloorsService } from '../../../shared/services/floors/floors.service';\nimport { ProductsService } from '../../../shared/services/products/products.service';\nimport { SaveProductParams } from '../../../shared/services/products/products.service.types';\n\n@Component({\n  selector: 'app-product-form',\n  templateUrl: './product-form.component.html',\n  styleUrls: ['./product-form.component.scss']\n})\nexport class ProductFormComponent implements OnInit {\n  isEdit = false;\n  codeRouteParam: string;\n  product: Partial<Product> = {};\n  error: string;\n  floors: Floor[] = [];\n  sections: Section[] = [];\n  form = this.fb.group({\n    code: ['', [\n      Validators.required,\n      Validators.pattern(new RegExp('([A-Z]{2,4}) ([0-9]{4,6})'))\n    ]],\n    quantity: ['', [\n      Validators.required\n    ]],\n    floorId: ['', [\n      Validators.required\n    ]],\n    sectionId: ['', [\n      Validators.required\n    ]]\n  });\n  constructor(\n    private route: ActivatedRoute,\n    private fb: FormBuilder,\n    private productsService: ProductsService,\n    private floorsService: FloorsService,\n    private location: Location\n  ) { }\n\n  get code(): AbstractControl {\n    return this.form.controls.code;\n  }\n\n  get quantity(): AbstractControl {\n    return this.form.controls.quantity;\n  }\n\n  get floorId(): AbstractControl {\n    return this.form.controls.floorId;\n  }\n\n  get sectionId(): AbstractControl {\n    return this.form.controls.sectionId;\n  }\n\n  ngOnInit(): void {\n    const codeParam = this.route.snapshot.paramMap.get('code');\n    this.isEdit = codeParam !== 'new';\n\n    let product$ = of(null);\n    if (this.isEdit) {\n      product$ = this.productsService.getProductByCode(codeParam);\n    }\n    const floors$ = this.floorsService.getFloorsWithSections();\n\n    forkJoin([product$, floors$])\n      .pipe(take(1))\n      .subscribe(([product, floors]) => {\n        this.floors = floors;\n        this.product = product;\n        this.initForm(product, floors);\n      })\n  }\n\n  onFloorChange(floorId: string, fetchedFloors?: Floor[]): void {\n    const floors = fetchedFloors || this.floors;\n    const foundFloor = floors.find(({ id }) => id === floorId);\n    if (foundFloor) {\n      this.sections = foundFloor.sections;\n      if (this.sectionId) {\n        this.sectionId.setValue(null);\n        this.sectionId.enable();\n      }\n    }\n  }\n\n  initForm(product: Product, floors: Floor[]): void {\n    if (product) {\n      this.onFloorChange(product.floor?.id, floors);\n      this.form.patchValue({\n        code: product.code,\n        quantity: product.quantity,\n        floorId: product.floor?.id,\n        sectionId: product.section?.id\n      })\n    }\n    else {\n      this.sectionId.disable();\n    }\n  }\n\n  save(): void {\n    if (this.form.invalid) {\n      return;\n    }\n    const saveParams: SaveProductParams = this.form.value;\n    const action = this.isEdit ? 'update' : 'create';\n    this.productsService.saveProduct(action, saveParams)\n      .pipe(\n        take(1),\n        catchError((e) => {\n          this.error = e;\n          alert(this.error);\n          return of(null);\n        }),\n      )\n      .subscribe((product: Product | null) => {\n        if (product) {\n          alert(`Product ${product.code} successfully ${action}d!`);\n          this.goBack();\n        }\n      });\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n}\n","<form class=\"product-form p-2\"\n    [formGroup]=\"form\"\n    (submit)=\"save()\">\n    <h2 class=\"mb-2\">\n        <ng-container\n            *ngIf=\"isEdit; else createProductHeader\">\n            Update Product {{product?.code}}\n        </ng-container>\n        <ng-template #createProductHeader>\n            Create Product\n        </ng-template>\n    </h2>\n\n    <div class=\"product-form__controls\">\n        <ng-template #requiredError>This field is required.</ng-template>\n\n        <div class=\"c-form-control\"\n            *ngIf=\"!isEdit\">\n            <label for=\"code\">Code:</label>\n            <input class=\"u-d-block\"\n                id=\"code\"\n                type=\"text\"\n                [ngClass]=\"{ 'c-form-control--error': code.valid || code.pristine }\"\n                formControlName=\"code\">\n            <p class=\"c-form-control-error\"\n                [ngClass]=\"{ 'u-invisible': code.valid || code.pristine }\">\n                <ng-container *ngIf=\"code.errors?.pattern; else requiredError\">\n                    Code must consit of 2-4 uppercase letters followed with a space and 4-6 digits, e.g. MYTZ 123456 or MY 3247.\n                </ng-container>\n            </p>\n        </div>\n\n        <div class=\"c-form-control\">\n            <label for=\"quantity\">Quantity:</label>\n            <input class=\"u-d-block\"\n                id=\"quantity\"\n                type=\"number\"\n                min=\"0\"\n                formControlName=\"quantity\">\n            <p class=\"c-form-control-error\"\n                [ngClass]=\"{ 'u-invisible': quantity.valid || quantity.pristine }\">\n                <ng-container *ngTemplateOutlet=\"requiredError\"></ng-container>\n            </p>\n        </div>\n\n        <div class=\"c-form-control\">\n            <label for=\"floor\">Floor:</label>\n            <select class=\"u-d-block\"\n                name=\"floor\"\n                id=\"floor\"\n                formControlName=\"floorId\"\n                (change)=\"onFloorChange($event.target.value)\">\n                <option *ngFor=\"let floor of floors\"\n                    [value]=\"floor.id\">\n                    {{ floor.name }}\n                </option>\n            </select>\n            <p class=\"c-form-control-error\"\n                [ngClass]=\"{ 'u-invisible': floorId.valid || floorId.pristine }\">\n                <ng-container *ngTemplateOutlet=\"requiredError\"></ng-container>\n            </p>\n        </div>\n\n        <div class=\"c-form-control\">\n            <label for=\"section\">Section:</label>\n            <select class=\"u-d-block\"\n                id=\"section\"\n                name=\"section\"\n                formControlName=\"sectionId\">\n                <option *ngFor=\"let section of sections\"\n                    [value]=\"section.id\">\n                    {{ section.name }}\n                </option>\n            </select>\n            <p class=\"c-form-control-error\"\n                [ngClass]=\"{ 'u-invisible': sectionId.valid || sectionId.pristine }\">\n                <ng-container *ngTemplateOutlet=\"requiredError\"></ng-container>\n            </p>\n        </div>\n    </div>\n\n    <div class=\"product-form__actions\">\n        <button class=\"c-button c-button--primary\"\n            type=\"submit\"\n            [disabled]=\"form.pristine || form.invalid\">\n            Save\n        </button>\n        <button class=\"c-button c-button--secondary ml-1\"\n            (click)=\"goBack()\"\n            type=\"button\">\n            Cancel\n        </button>\n    </div>\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\n\nimport { Product } from '../../../shared/models/product.model';\nimport { ProductsService } from '../../../shared/services/products/products.service';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.scss']\n})\nexport class ProductsComponent implements OnInit {\n  products$: Observable<Product[]>;\n  constructor(\n    private route: ActivatedRoute,\n    private productsService: ProductsService\n  ) { }\n\n  ngOnInit(): void {\n    this.products$ = this.route.queryParamMap.pipe(\n      switchMap((params: ParamMap) => {\n        return this.productsService.getProducts({\n          floorId: params.get('floor'),\n          sectionId: params.get('section'),\n          filter: params.get('filter')\n        });\n      })\n    )\n  }\n\n}\n","<div class=\"products\">\n    <section class=\"products__filters p-2\">\n        <div class=\"products__filters__list pr-2 mb-2\">\n            <app-product-filters></app-product-filters>\n        </div>\n        <div class=\"products__filters__clear\">\n            <button class=\"c-button c-button--secondary\"\n                routerLink=\"/products\">\n                Clear filters <span class=\"close \"></span>\n            </button>\n        </div>\n    </section>\n    <section class=\"products__products-list p-2\">\n        <h2 class=\"mb-2\">Products</h2>\n        <div class=\"products__products-list__list pr-2 mb-2\">\n            <app-products-list\n                [products]=\"products$ | async\">\n            </app-products-list>\n        </div>\n        <div>\n            <button class=\"c-button c-button--primary\"\n                routerLink=\"/products/new\">\n                Add\n            </button>\n        </div>\n    </section>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ProductFormComponent } from './containers/product-form/product-form.component';\nimport { ProductsComponent } from './containers/products/products.component';\n\n\nconst routes: Routes = [\n  {\n    path: 'products',\n    component: ProductsComponent,\n  },\n  {\n    path: 'products/:code',\n    component: ProductFormComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ProductsRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProductListItemComponent } from './components/product-list-item/product-list-item.component';\nimport { ProductsListComponent } from './components/products-list/products-list.component';\nimport { ProductsComponent } from './containers/products/products.component';\nimport { ProductFiltersComponent } from './containers/product-filters/product-filters.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { ProductsRoutingModule } from './products-routing.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { ProductFormComponent } from './containers/product-form/product-form.component';\n\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    ReactiveFormsModule,\n    ProductsRoutingModule\n  ],\n  declarations: [\n    ProductListItemComponent,\n    ProductsListComponent,\n    ProductsComponent,\n    ProductFiltersComponent,\n    ProductFormComponent,\n  ],\n  exports: [ProductsComponent]\n})\nexport class ProductsModule { }\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { delay } from 'rxjs/operators';\n\nimport { floors } from '../../../../mock/floors-and-sections';\nimport { Floor } from '../../models/floor.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FloorsService {\n\n  constructor() { }\n\n  getFloorsWithSections(): Observable<Floor[]> {\n    return of<Floor[]>(floors).pipe(delay(500))\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of, throwError } from 'rxjs';\nimport { delay } from 'rxjs/operators';\n\nimport { productsData } from '../../../../mock/products';\nimport { Product } from '../../models/product.model';\nimport { GetProductsParams, SaveProductParams } from './products.service.types';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductsService {\n  getProducts(params: GetProductsParams): Observable<Product[]> {\n    let res: Product[] = productsData.data;\n    const { floorId, sectionId, filter } = params;\n    if (floorId) {\n      res = res.filter((data) => data.floor.id === floorId);\n    }\n    if (sectionId) {\n      res = res.filter((data) => data.section.id === sectionId);\n    }\n    if (filter) {\n      res = res.filter((data) => new RegExp(filter, 'i').test(data.code));\n    }\n    return of(res).pipe(delay(500));\n  }\n\n  getProductByCode(productCode: string): Observable<Product> {\n    return of(productsData.data.find(({ code }) => code === productCode))\n  }\n\n\n  saveProduct(action: 'create' | 'update', data: SaveProductParams): Observable<Product> {\n    try {\n      if (action === 'create') {\n        return of(productsData.addProduct(data)).pipe(delay(500));\n      }\n      return of(productsData.updateProduct(data)).pipe(delay(500));\n    }\n    catch (error) {\n      return throwError(error);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule\n  ]\n})\nexport class SharedModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","export const floor1 = {\n    id: 'dsnuwe893',\n    name: 'Floor 1',\n    number: 1,\n    sections: [\n        {\n            id: 'dbf674w7g',\n            number: 1,\n            name: 'Section 1'\n        },\n        {\n            id: 'dbf674w7a',\n            number: 2,\n            name: 'Section 2'\n        },\n        {\n            id: 'dbf674w7b',\n            number: 3,\n            name: 'Section 3'\n        },\n        {\n            id: 'dbf674w7c',\n            number: 4,\n            name: 'Section 4'\n        }\n    ]\n};\n\nexport const floor2 = {\n    id: 'asnuwe893',\n    number: 2,\n    name: 'Floor 2',\n    sections: [\n        {\n            id: 'abf674w7b',\n            number: 1,\n            name: 'Section 1'\n        },\n        {\n            id: 'abs674Y7b',\n            number: 2,\n            name: 'Section 2'\n        }\n    ]\n};\n\nexport const floor3 = {\n    id: 'bsnuwe884',\n    number: 3,\n    name: 'Floor 3',\n    sections: [\n        {\n            id: 'abf634w7b',\n            number: 1,\n            name: 'Section 1'\n        },\n        {\n            id: 'isf634w7b',\n            number: 2,\n            name: 'Section 2'\n        },\n        {\n            id: 'jhg674Y7b',\n            number: 3,\n            name: 'Section 3'\n        }\n    ]\n}\n\nexport const floorsHash = {\n    [floor1.id]: floor1,\n    [floor2.id]: floor2,\n    [floor3.id]: floor3\n};\n\nexport const floors = Object.values(floorsHash);\n","import { floor1, floor2, floor3, floorsHash } from './floors-and-sections';\n\nconst products = [\n    {\n        floor: { id: floor1.id, number: floor1.number },\n        section: { id: floor1.sections[0].id, number: floor1.sections[0].number },\n        code: 'MYTZ 123456',\n        quantity: 100\n    },\n    {\n        floor: { id: floor1.id, number: floor1.number },\n        section: { id: floor1.sections[0].id, number: floor1.sections[0].number },\n        code: 'XYZ 1289',\n        quantity: 77\n    },\n    {\n        floor: { id: floor1.id, number: floor1.number },\n        section: { id: floor1.sections[1].id, number: floor1.sections[1].number },\n        code: 'ACSD 3212',\n        quantity: 321\n    },\n    {\n        floor: { id: floor1.id, number: floor1.number },\n        section: { id: floor1.sections[1].id, number: floor1.sections[1].number },\n        code: 'BDS 3212',\n        quantity: 12\n    },\n    {\n        floor: { id: floor1.id, number: floor1.number },\n        section: { id: floor1.sections[2].id, number: floor1.sections[2].number },\n        code: 'FSADF 3212',\n        quantity: 32\n    },\n    {\n        floor: { id: floor2.id, number: floor2.number },\n        section: { id: floor2.sections[0].id, number: floor2.sections[0].number },\n        code: 'ASD 5678',\n        quantity: 65\n    },\n    {\n        floor: { id: floor2.id, number: floor2.number },\n        section: { id: floor2.sections[1].id, number: floor2.sections[1].number },\n        code: 'BD 4566',\n        quantity: 65\n    },\n    {\n        floor: { id: floor3.id, number: floor3.number },\n        section: { id: floor3.sections[0].id, number: floor3.sections[0].number },\n        code: 'JKFH 9844',\n        quantity: 999\n    },\n    {\n        floor: { id: floor3.id, number: floor3.number },\n        section: { id: floor3.sections[0].id, number: floor3.sections[0].number },\n        code: 'MN 1889',\n        quantity: 33\n    },\n    {\n        floor: { id: floor3.id, number: floor3.number },\n        section: { id: floor3.sections[1].id, number: floor3.sections[1].number },\n        code: 'POI 7344',\n        quantity: 111\n    },\n    {\n        floor: { id: floor3.id, number: floor3.number },\n        section: { id: floor3.sections[1].id, number: floor3.sections[1].number },\n        code: 'GFJH 9834',\n        quantity: 723\n    },\n    {\n        floor: { id: floor3.id, number: floor3.number },\n        section: { id: floor3.sections[2].id, number: floor3.sections[2].number },\n        code: 'OIX 9825',\n        quantity: 98\n    },\n]\n\nconst getObjects = ({\n    code,\n    floorId,\n    sectionId\n}) => {\n    const productIndex = products.findIndex(({ code: productCode }) => code === productCode);\n    const floor = floorsHash[floorId];\n    if (!floor) {\n        throw 'Floor not found';\n    }\n    const section = floor.sections.find(({ id }) => id === sectionId);\n    if (!section) {\n        throw 'Section not found';\n    }\n    return {\n        productIndex,\n        floor: {\n            id: floor.id,\n            number: floor.number\n        },\n        section: {\n            id: section.id,\n            number: section.number\n        }\n    }\n}\nconst updateProduct = (params) => {\n    const {\n        productIndex,\n        floor,\n        section\n    } = getObjects(params);\n\n    if (productIndex < 0) {\n        throw 'Product not found';\n    }\n\n    products[productIndex].quantity = params.quantity;\n    products[productIndex].floor = floor;\n    products[productIndex].section = section;\n    return products[productIndex];\n}\n\n\nconst addProduct = (params) => {\n    const {\n        productIndex,\n        floor,\n        section\n    } = getObjects(params);\n\n    if (productIndex > -1) {\n        throw `Product with code ${params.code} already exists`;\n    }\n\n    const product = {\n        code: params.code,\n        quantity: params.quantity,\n        floor,\n        section\n    }\n    products.push(product);\n    return product;\n}\n\nexport const productsData = {\n    data: products.slice(),\n    updateProduct,\n    addProduct\n}"]}